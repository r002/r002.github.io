<!doctype html>
<html>
<head>
  <title>404</title>
  <script>
    const shortlinks = {
      0: "https://bsky.app/profile/robertlin.bsky.social",
      b0: "https://bsky.app/profile/robertlin.bsky.social",
      // 1: "1-december-january-is-always-when-i-reflect",
      b1: "3lfcy3lmrhk2j",
      // 2: "2-hyper-personalization",
      b2: "3lff67v7z3s2y",
      // 3: "3-small-businesses-are-the-backbone-of-america",
      b3: "3lfhqcp645k2r",
      // 4: "4-armageddon-is-my-favorite-movie",
      b4: "3lfwqlw44ak2o",
      // 5: "5-will-the-real-zuck-please-stand-up",
      b5: "3lfwvimifqc25",
      // 6: "6-greenlights-towards-bluer-skies",
      b6: "3lfysq62rkc2m",
      // 7: "7-the-unbearable-lightness-of-playing-life-on-super-easy-mode",
      b7: "3lg6q24rfbk2f",
      // 8: "8-martha-becks-the-path-of-not-here",
      b8: "3lgfgcjxwxk2c",
      // 9: "9-a-tale-of-two-companies",
      b9: "3lggxpsxxrc2l",
      // 10: "10-the-importance-of-rituals",
      b10: "3lgnogv5e7c2t",
      // 11: "11-from-great-to-good-enough",
      b11: "3lgwgofgqzk2x",
      // 12: "12-internal-family-systems-therapy",
      b12: "3lh3gta3doc2t",
      // 13: "13-the-importance-of-child-labor-pedaling-popcorn-as-a-boy-scout",
      b13: "3lhbufrtlks2c",
      // 14: "14-my-childhood-dream",
      b14: "3lhgnlxfibk24",
      // 15: "15-hero-ball",
      b15: "3lhiclzyqns2o",
      // 16: "16-brilliance-can-be-a-curse",
      b16: "3lhwntcjyks2s",
      // 17: "17-things-that-make-me-happy",
      b17: "3li45zmjgmk2f",
      // 18: "18-sometimes-disruption-is-the-only-way-forward",
      b18: "3liav7ghbpk23",
      // 19: "19-two-ways-to-start-the-day",
      b19: "3licnb3tbt22j",
      // 20: "20-start-the-day-right-go-when-the-spirit-takes-you",
      b20: "3lip447qaak2b",
      // 21: "21-it-costs-what-it-costs",
      b21: "3liruqdvqkk2p",
      // 22: "22-noblesse-oblige-why-bread-circuses-are-important",
      b22: "3lixmk2kakc22",
      // 23: "23-sheeple-the-90-9-1-rule",
      b23: "3ljanvplrfc2u",
      // 24: "24-one-day-my-tweets-are-all-ill-leave-behind",
      b24: "3ljdaclqoqc2n",
      // 25: "25-kingdom-the-voice-of-god",
      b25: "3ljgv6i3e622j",
      // 26: "26-where-it-all-went-wrong-the-way-back",
      b26: "3ljkqy6ug3s2f",
      // 27: "27-the-future-of-ai-video-entertainment",
      b27: "3ljop3j2aqc2n",
      // 28: "28-robert-v2-my-legacy-project",
      b28: "3ljzs6qlois26",
      // 29: "29-my-girlfriends-have-unionised-intermezzo",
      b29: "3lkd2sz4zzc2r",
      // 30: "30-what-core-values-constitute-a-good-life",
      b30: "3lkhlav2kjk2l"
    };

    // Before rendering 404 page, try to redirect if this is a shortlink
    const path = window.location.href;
    const regex = /robertl\.in\/(b?)(\d+)/;
    const match = path.match(regex);
    if (match) {
      const id = `${match[1]}${match[2]}`; // Extract the matched id
      // Redirect if the id is for a valid shortlink
      if (shortlinks.hasOwnProperty(id)) {

        // If the redirect is a url, just route to it
        let url = shortlinks[id];
        
        // Else, build the url to route to
        if (!url.includes("://")) {
          url = match[1]==="b" ? "https://bsky.app/profile/robertlin.bsky.social/post/" : "https://robertl.in/writing/";
          url += shortlinks[id];
        }

        console.log("Route to:", url);
        window.location.href = url;
      }
    }
    // If no match, log a message
    console.log("The path does not contain a recognized shortlink id.");
  </script>
</head>

  <body>
    <div>
      <h1>404</h1>
      <div id="placeholder">
          <p>Sorry, the page you were looking for could not be found.</p>
      </div>
    </div>

  </body>
</html>
